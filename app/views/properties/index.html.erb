<br>
<h1>Properties</h1>
</br>
<br>
<table class="table table-striped table-bordered table-hover">
  <thead class="table-dark">
  <thead class="thead-dark">
    <tr>
      <th>Agent ID</th>
      <th>Property Type</th>
      <th>BHK</th>
      <th>Size (sqft)</th>
      <th>Price (Rs) </th>
      <th>Address</th>
      <th colspan="3"></th>
      <th>Add SmartLock</th>
      <th>Invitelink</th>
    </tr>
  </thead>

  <tbody>
    <% @properties.each do |property| %>
      <tr>
        <td><%= property.id %></td>
        <td><%= property.property_type%></td>
        <td><%= property.bhk %></td>
        <td><%= property.size  %></td>
        <td><%= property.price %></td>
        <td><%= property.address %></td>
        <td><%= link_to 'Show', property ,class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_property_path(property) , class:"btn btn-info"%></td>
        <td><%= button_to 'Destroy', "/properties/#{property.id}", method: :delete, data: { confirm: 'Are you sure?' },class:"btn btn-danger"%></td>
        <%if !SmartLock.exists?(property_id: property.id)%>
        <td><%= button_to 'Add Smart Lock', assign_smart_lock_property_path(property.id),method: :get,class:"btn btn-success"%></td>
        <%else%>
        <td><%= button_to 'Detach Smart Lock', "/properties/#{property.id}/detach_lock_box",method: :get,class:"btn btn-danger"%></td>
        <td><%= link_to 'Invitation', new_invitation_path(:property_id => property.id ),class:"btn btn-primary"%></td>
        <%end%>
        <%=puts(property)%>
        <%=puts(property.id)%>
      </tr>
    <% end %>
  </tbody>
  </table>
<br>

<%= link_to "New property", new_property_path, class:"btn btn-success" %>